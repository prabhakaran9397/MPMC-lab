.MODEL SMALL

.STACK 100H

.DATA
	FILENAME DB 'TESTFILE.TXT'
	READVAL	 DB 20 DUP('$')
	HANDLE 	 DW ?
.CODE
BEGIN:
	MOV AX, @DATA		; INITIALISE
	MOV DS, AX

	LEA DX, FILENAME
	MOV CX, 0H
	MOV AX, 3D00H		; OPEN IN READ ONLY MODE
	INT 21H
	MOV HANDLE, AX

	LEA DX, READVAL		
	MOV CX, 0FFFFH
	MOV BX, HANDLE
	MOV AX, 3F00H		; READ FROM FILE
	INT 21H

	LEA DX, READVAL		; PRINT READ FROM FILE
	MOV AH, 09H
	INT 21H	

	MOV BX, HANDLE		; CLOSE FILE
	MOV AX, 3E00H		
	INT 21H

	MOV AH, 4CH		; RETURN
	INT 21H
END BEGIN
