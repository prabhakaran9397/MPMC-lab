.MODEL SMALL

.STACK 100H

.DATA
	FILENAME DB 'TESTFILE.TXT'
	STRING	 DB 'NEW DOCUMENT', '$'
	STRLEN = $ - OFFSET STRING
	HANDLE 	 DW ?
.CODE
BEGIN:
	MOV AX, @DATA		; INITIALISE
	MOV DS, AX

	LEA DX, FILENAME
	MOV CX, 0H
	MOV AX, 3D01H		; OPEN IN WRITE ONLY MODE
	INT 21H
	MOV HANDLE, AX
	
	LEA DX, STRING		
	MOV CX, STRLEN
	MOV BX, HANDLE
	MOV AX, 4000H		; WRITE IN FILE
	INT 21H

	MOV BX, HANDLE		; CLOSE FILE
	MOV AX, 3E00H		
	INT 21H

	MOV AH, 4CH		; RETURN
	INT 21H
END BEGIN
